{"ast":null,"code":"import React,{Suspense}from'react';import{BrowserRouter as Router,Route,Redirect,Switch}from'react-router-dom';// import Users        from './user/pages/Users';\n// import UserPlaces   from './places/pages/UserPlaces';\n// import NewPlace     from './places/pages/NewPlace';\n// import UpdatePlace  from './places/pages/UpdatePlace';\n// import Auth         from './user/pages/Auth';\nimport MainNavigation from'./shared/components/Navigation/MainNavigation';import{AuthContext}from'./shared/context/auth-context';import{useAuth}from'./shared/hooks/auth-hook';import LoadingSpinner from'./shared/components/UIElements/LoadingSpinner';const Users=React.lazy(()=>import('./user/pages/Users'));const UserPlaces=React.lazy(()=>import('./places/pages/UserPlaces'));const NewPlace=React.lazy(()=>import('./places/pages/NewPlace'));const UpdatePlace=React.lazy(()=>import('./places/pages/UpdatePlace'));const Auth=React.lazy(()=>import('./user/pages/Auth'));// function App() {\n//   return <h1>Let's start!</h1>;\n// }\nconst App=()=>{const{userId,token,login,logout}=useAuth();let routes;if(token){/** 로그인 중일 때 */routes=/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true},/*#__PURE__*/React.createElement(Users,null)),/*#__PURE__*/React.createElement(Route,{path:\"/:userId/places\",exact:true},/*#__PURE__*/React.createElement(UserPlaces,null)),/*#__PURE__*/React.createElement(Route,{path:\"/places/new\",exact:true},/*#__PURE__*/React.createElement(NewPlace,null)),/*#__PURE__*/React.createElement(Route,{path:\"/places/:placeId\"},/*#__PURE__*/React.createElement(UpdatePlace,null)),/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}));}else{/** 로그인 중이 아닐 때 */routes=/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true},/*#__PURE__*/React.createElement(Users,null)),/*#__PURE__*/React.createElement(Route,{path:\"/:userId/places\",exact:true},/*#__PURE__*/React.createElement(UserPlaces,null)),/*#__PURE__*/React.createElement(Route,{path:\"/auth\"},/*#__PURE__*/React.createElement(Auth,null)),/*#__PURE__*/React.createElement(Redirect,{to:\"/auth\"}));}// return <h1>Let's start!</h1>;\nreturn/*#__PURE__*/React.createElement(AuthContext.Provider,{value:{isLoggedIn:!!token,token:token,userId:userId,login:login,logout:logout}},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(MainNavigation,null),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(Suspense,{fallback:/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(LoadingSpinner,null))},routes))));};export default App;","map":{"version":3,"names":["React","Suspense","BrowserRouter","Router","Route","Redirect","Switch","MainNavigation","AuthContext","useAuth","LoadingSpinner","Users","lazy","UserPlaces","NewPlace","UpdatePlace","Auth","App","userId","token","login","logout","routes","createElement","path","exact","to","Provider","value","isLoggedIn","fallback","className"],"sources":["/mnt/c/Users/IMWONHYEOK/study/react/section_13_front/src/App.js"],"sourcesContent":["import React, { Suspense } from 'react';\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\n\n// import Users        from './user/pages/Users';\n// import UserPlaces   from './places/pages/UserPlaces';\n// import NewPlace     from './places/pages/NewPlace';\n// import UpdatePlace  from './places/pages/UpdatePlace';\n// import Auth         from './user/pages/Auth';\n\nimport MainNavigation from './shared/components/Navigation/MainNavigation';\nimport { AuthContext } from './shared/context/auth-context';\nimport { useAuth } from './shared/hooks/auth-hook';\nimport LoadingSpinner from './shared/components/UIElements/LoadingSpinner';\n\n\nconst Users = React.lazy(() => import('./user/pages/Users'));\nconst UserPlaces = React.lazy(() => import('./places/pages/UserPlaces'));\nconst NewPlace = React.lazy(() => import('./places/pages/NewPlace'));\nconst UpdatePlace = React.lazy(() => import('./places/pages/UpdatePlace'));\nconst Auth = React.lazy(() => import('./user/pages/Auth'));\n\n\n\n\n\n// function App() {\n//   return <h1>Let's start!</h1>;\n// }\n\nconst App = () => {\n  const { userId, token, login, logout } = useAuth();\n\n  let routes;\n\n  if (token) {\n    /** 로그인 중일 때 */\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact={true}>\n          <Users />\n        </Route>\n        <Route path=\"/:userId/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/places/new\" exact>\n          <NewPlace />\n        </Route>\n        {/* <Route path=\"/places/new\" element={<NewPlace />} /> */}\n        {/* /places/new 링크에서 new가 placeId로 인식되기 때문에\n        /places/new 와 /places/:placeId 둘다 렌더링 된다.\n        이를 해결 하기 위해서는 <Switch>태그를 사용해 조건에 부합하는\n        하나의링크만 렌더링 되게끔 해야 한다. */}\n        <Route path=\"/places/:placeId\">\n          <UpdatePlace />\n        </Route>\n        {/* 위에 정의된 경로 외에 경로는 전부 '/'로 향하게 한다. */}\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  } else {\n    /** 로그인 중이 아닐 때 */\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact={true}>\n          <Users />\n        </Route>\n        <Route path=\"/:userId/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/auth\">\n          <Auth />\n        </Route>\n        <Redirect to=\"/auth\" />\n      </Switch>\n    );\n  }\n\n  // return <h1>Let's start!</h1>;\n  return (\n    <AuthContext.Provider value={{\n      isLoggedIn: !!token,\n      token: token,\n      userId: userId,\n      login: login,\n      logout: logout\n    }}>\n      <Router>\n        <MainNavigation />\n        <main>\n          <Suspense\n            fallback={\n              <div className=\"center\">\n                <LoadingSpinner />\n              </div>\n            }>\n            {routes}\n          </Suspense>\n        </main>\n      </Router>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}